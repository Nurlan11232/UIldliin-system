<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>“Æ—Ä–≥—ç–ª–∂–∏–ª—Å—ç–Ω —Ö—É–≤–∞–∞—Ä–∏–ª–∞–ª—Ç - Contiguous Allocation</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    color: #e6eef8;
    padding: 20px;
    min-height: 100vh;
  }
  .container { max-width: 1400px; margin: 0 auto; }
  h1 { color: #fff; margin-bottom: 8px; font-size: 2em; }
  .lead { color: #9aa4b2; margin-bottom: 24px; }
  .main-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 24px; }
  
  /* Disk blocks */
  .disk-section {
    background: rgba(15, 23, 36, 0.8);
    padding: 24px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  .blocks-grid {
    display: grid;
    grid-template-columns: repeat(10, 1fr);
    gap: 4px;
    margin-bottom: 20px;
  }
  .block {
    background: #2d3748;
    border: 2px solid #4a5568;
    border-radius: 8px;
    padding: 12px 8px;
    text-align: center;
    transition: all 0.3s;
    cursor: pointer;
  }
  .block:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.3); }
  .block-num { font-size: 11px; color: #9aa4b2; font-family: monospace; }
  .block-content { font-weight: bold; color: #fff; margin-top: 4px; font-size: 16px; }
  .block-start { font-size: 10px; color: #fff; margin-top: 2px; }
  
  /* File colors */
  .block.file-A { background: linear-gradient(135deg, #3b82f6, #2563eb); }
  .block.file-B { background: linear-gradient(135deg, #10b981, #059669); }
  .block.file-C { background: linear-gradient(135deg, #f59e0b, #d97706); }
  .block.file-D { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
  .block.file-E { background: linear-gradient(135deg, #ec4899, #db2777); }
  .block.file-F { background: linear-gradient(135deg, #f97316, #ea580c); }
  
  /* Free blocks info */
  .free-info {
    background: rgba(0, 0, 0, 0.3);
    padding: 16px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
  }
  .free-info h3 { margin-bottom: 12px; font-size: 1em; }
  .free-groups { display: flex; flex-wrap: wrap; gap: 8px; }
  .free-group {
    background: #374151;
    padding: 8px 12px;
    border-radius: 6px;
    border: 1px solid #4b5563;
  }
  .free-group-count { font-weight: bold; font-size: 14px; }
  .free-group-range { font-size: 11px; color: #9ca3af; margin-top: 2px; }
  
  /* Controls */
  .controls-section {
    background: rgba(15, 23, 36, 0.8);
    padding: 24px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-bottom: 16px;
  }
  .btn {
    width: 100%;
    padding: 14px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 15px;
    margin-bottom: 8px;
  }
  .btn:disabled {
    background: #4b5563 !important;
    cursor: not-allowed;
    opacity: 0.5;
  }
  .btn-primary { background: linear-gradient(135deg, #3b82f6, #2563eb); color: #fff; }
  .btn-primary:hover:not(:disabled) { background: linear-gradient(135deg, #2563eb, #1d4ed8); }
  .btn-danger { background: linear-gradient(135deg, #ef4444, #dc2626); color: #fff; }
  .btn-danger:hover:not(:disabled) { background: linear-gradient(135deg, #dc2626, #b91c1c); }
  .btn-secondary { background: #374151; color: #fff; }
  .btn-secondary:hover { background: #4b5563; }
  
  /* Files list */
  .files-list { margin-top: 16px; }
  .file-item {
    display: flex;
    align-items: center;
    gap: 12px;
    background: rgba(0, 0, 0, 0.3);
    padding: 12px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    margin-bottom: 8px;
  }
  .file-icon {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: #fff;
    font-size: 18px;
  }
  .file-info { flex: 1; }
  .file-name { font-weight: 600; color: #fff; }
  .file-details { font-size: 13px; color: #9aa4b2; margin-top: 2px; }
  .file-btn {
    padding: 6px 14px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    transition: all 0.3s;
  }
  .btn-allocate { background: #10b981; color: #fff; }
  .btn-allocate:hover { background: #059669; }
  .btn-delete { background: #ef4444; color: #fff; }
  .btn-delete:hover { background: #dc2626; }
  
  .message {
    background: rgba(59, 130, 246, 0.2);
    border: 1px solid rgba(59, 130, 246, 0.3);
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 16px;
    color: #93c5fd;
    font-size: 14px;
  }
  
  .info-box {
    background: rgba(15, 23, 36, 0.8);
    padding: 20px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 14px;
    line-height: 1.6;
  }
  .info-box h3 { margin-bottom: 12px; color: #fff; }
  .info-box p { margin-bottom: 8px; color: #cbd5e1; }
  .warning { color: #fbbf24; margin-top: 12px; }
  
  @media (max-width: 1024px) {
    .main-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>
  <div class="container">
    <h1>“Æ—Ä–≥—ç–ª–∂–∏–ª—Å—ç–Ω —Ö—É–≤–∞–∞—Ä–∏–ª–∞–ª—Ç (Contiguous Allocation)</h1>
    <p class="lead">–§–∞–π–ª—É—É–¥ –¥–∏—Å–∫–Ω–∏–π –±–ª–æ–∫—É—É–¥–∞–¥ “Ø—Ä–≥—ç–ª–∂–∏–ª—Å—ç–Ω –±–∞–π–¥–ª–∞–∞—Ä –±–∞–π—Ä–ª–∞–Ω–∞</p>
    
    <div class="main-grid">
      <!-- Left: Disk blocks -->
      <div class="disk-section">
        <h2 style="margin-bottom: 16px;">–î–∏—Å–∫–Ω–∏–π –±–ª–æ–∫—É—É–¥</h2>
        <div class="blocks-grid" id="blocksGrid"></div>
        
        <div class="free-info">
          <h3>–ß”©–ª”©”©—Ç—ç–π –±–ª–æ–∫—É—É–¥—ã–Ω –±“Ø–ª–≥“Ø“Ø–¥:</h3>
          <div class="free-groups" id="freeGroups"></div>
        </div>
      </div>
      
      <!-- Right: Controls -->
      <div>
        <div class="controls-section">
          <h3 style="margin-bottom: 16px;">‚ö° –ê–≤—Ç–æ–º–∞—Ç –¥–∞–∞–ª–≥–∞–≤—Ä—É—É–¥</h3>
          <button class="btn btn-primary" id="btn1" onclick="allocateAllFiles()">
            1. –ë“Ø—Ö —Ñ–∞–π–ª—ã–≥ –±–∞–π—Ä–ª—É—É–ª–∞—Ö
          </button>
          <button class="btn btn-danger" id="btn2" onclick="deleteBandD()" disabled>
            2. B –±–æ–ª–æ–Ω D —É—Å—Ç–≥–∞—Ö
          </button>
          <button class="btn btn-secondary" onclick="reset()">
            üîÑ –î–∞—Ö–∏–Ω —ç—Ö–ª—ç—Ö
          </button>
        </div>
        
        <div class="controls-section">
          <h3 style="margin-bottom: 16px;">üìÅ –§–∞–π–ª—É—É–¥ (–≥–∞—Ä —É–¥–∏—Ä–¥–ª–∞–≥–∞)</h3>
          <div class="files-list" id="filesList"></div>
        </div>
        
        <div id="messageBox"></div>
        
        <div class="info-box">
          <h3>‚ö†Ô∏è –¢–∞–π–ª–±–∞—Ä</h3>
          <p><strong>“Æ—Ä–≥—ç–ª–∂–∏–ª—Å—ç–Ω —Ö—É–≤–∞–∞—Ä–∏–ª–∞–ª—Ç:</strong> –§–∞–π–ª –±“Ø—Ä “Ø—Ä–≥—ç–ª–∂–∏–ª—Å—ç–Ω –±–ª–æ–∫—É—É–¥–∞–¥ –±–∞–π—Ä–ª–∞–Ω–∞</p>
          <p>‚Ä¢ <strong>–î–∞–≤—É—É —Ç–∞–ª:</strong> –•—É—Ä–¥–∞–Ω sequential access, —ç–Ω–≥–∏–π–Ω —É–¥–∏—Ä–¥–ª–∞–≥–∞</p>
          <p>‚Ä¢ <strong>–°—É–ª —Ç–∞–ª:</strong> External fragmentation “Ø“Ø—Å–Ω—ç</p>
          <p>‚Ä¢ <strong>First Fit:</strong> –≠—Ö–Ω–∏–π —Ç–æ—Ö–∏—Ä–æ—Ö “Ø—Ä–≥—ç–ª–∂–∏–ª—Å—ç–Ω –∑–∞–π–≥ –∞—à–∏–≥–ª–∞–Ω–∞</p>
          <p class="warning">‚ö† B, D —É—Å—Ç–≥–∞—Å–Ω—ã –¥–∞—Ä–∞–∞ 5 –±–æ–ª–æ–Ω 7 free blocks “Ø“Ø—Å–Ω—ç</p>
        </div>
      </div>
    </div>
  </div>

<script>
const TOTAL_BLOCKS = 30;
let blocks = Array(TOTAL_BLOCKS).fill(null);
let files = [
  { name: 'A', size: 6, start: null, color: 'file-A' },
  { name: 'B', size: 5, start: null, color: 'file-B' },
  { name: 'C', size: 3, start: null, color: 'file-C' },
  { name: 'D', size: 7, start: null, color: 'file-D' },
  { name: 'E', size: 6, start: null, color: 'file-E' },
  { name: 'F', size: 2, start: null, color: 'file-F' }
];
let currentStep = 0;

function render() {
  renderBlocks();
  renderFreeGroups();
  renderFilesList();
}

function renderBlocks() {
  const grid = document.getElementById('blocksGrid');
  grid.innerHTML = '';
  
  blocks.forEach((block, idx) => {
    const file = files.find(f => f.name === block);
    const div = document.createElement('div');
    div.className = 'block' + (file ? ' ' + file.color : '');
    div.innerHTML = `
      <div class="block-num">${idx}</div>
      <div class="block-content">${block || '¬∑'}</div>
      ${file && file.start === idx ? '<div class="block-start">‚Üì</div>' : ''}
    `;
    grid.appendChild(div);
  });
}

function renderFreeGroups() {
  const container = document.getElementById('freeGroups');
  const groups = getFreeBlocks();
  
  if (groups.length === 0) {
    container.innerHTML = '<div style="color: #9aa4b2; font-size: 13px;">–ß”©–ª”©”©—Ç—ç–π –±–ª–æ–∫ –∞–ª–≥–∞</div>';
    return;
  }
  
  container.innerHTML = groups.map(g => `
    <div class="free-group">
      <div class="free-group-count">${g.count} Free Blocks</div>
      <div class="free-group-range">–±–ª–æ–∫ ${g.start}-${g.start + g.count - 1}</div>
    </div>
  `).join('');
}

function renderFilesList() {
  const list = document.getElementById('filesList');
  list.innerHTML = files.map(file => {
    const allocated = file.start !== null;
    return `
      <div class="file-item">
        <div class="file-icon ${file.color}">${file.name}</div>
        <div class="file-info">
          <div class="file-name">–§–∞–π–ª ${file.name}</div>
          <div class="file-details">
            ${file.size} –±–ª–æ–∫
            ${allocated ? ` | –ë–ª–æ–∫ ${file.start}-${file.start + file.size - 1}` : ''}
          </div>
        </div>
        ${allocated 
          ? `<button class="file-btn btn-delete" onclick="deleteFile('${file.name}')">–£—Å—Ç–≥–∞—Ö</button>`
          : `<button class="file-btn btn-allocate" onclick="allocateFile('${file.name}')">–ë–∞–π—Ä–ª—É—É–ª–∞—Ö</button>`
        }
      </div>
    `;
  }).join('');
}

function getFreeBlocks() {
  const groups = [];
  let start = -1, count = 0;
  
  for (let i = 0; i < blocks.length; i++) {
    if (blocks[i] === null) {
      if (count === 0) start = i;
      count++;
    } else {
      if (count > 0) groups.push({ start, count });
      count = 0;
    }
  }
  if (count > 0) groups.push({ start, count });
  return groups;
}

function allocateFile(name) {
  const file = files.find(f => f.name === name);
  if (!file || file.start !== null) {
    showMessage(`–§–∞–π–ª ${name} –∞–ª—å —Ö—ç–¥–∏–π–Ω –±–∞–π—Ä—à—É—É–ª—Å–∞–Ω –±–∞–π–Ω–∞`);
    return false;
  }
  
  // First Fit
  let startIdx = -1, count = 0;
  for (let i = 0; i < blocks.length; i++) {
    if (blocks[i] === null) {
      if (count === 0) startIdx = i;
      count++;
      if (count === file.size) break;
    } else {
      count = 0;
      startIdx = -1;
    }
  }
  
  if (count < file.size) {
    showMessage(`‚ö† –•–∞–Ω–≥–∞–ª—Ç—Ç–∞–π “Ø—Ä–≥—ç–ª–∂–∏–ª—Å—ç–Ω —Å—É–ª –∑–∞–π –∞–ª–≥–∞ (${file.size} –±–ª–æ–∫ —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π)`);
    return false;
  }
  
  for (let i = startIdx; i < startIdx + file.size; i++) {
    blocks[i] = name;
  }
  file.start = startIdx;
  
  showMessage(`‚úì –§–∞–π–ª ${name} –±–∞–π—Ä—à—É—É–ª—Å–∞–Ω: –±–ª–æ–∫ ${startIdx}-${startIdx + file.size - 1}`);
  render();
  return true;
}

function deleteFile(name) {
  const file = files.find(f => f.name === name);
  if (!file || file.start === null) {
    showMessage(`–§–∞–π–ª ${name} –æ–ª–¥—Å–æ–Ω–≥“Ø–π`);
    return false;
  }
  
  blocks = blocks.map(b => b === name ? null : b);
  file.start = null;
  
  showMessage(`‚úì –§–∞–π–ª ${name}-–≥ —É—Å—Ç–≥–∞—Å–∞–Ω`);
  render();
  return true;
}

async function allocateAllFiles() {
  document.getElementById('btn1').disabled = true;
  showMessage('–î–∞–∞–ª–≥–∞–≤–∞—Ä 1: –ë“Ø—Ö —Ñ–∞–π–ª—É—É–¥—ã–≥ –±–∞–π—Ä–ª—É—É–ª–∂ –±–∞–π–Ω–∞...');
  
  const names = ['A', 'B', 'C', 'D', 'E', 'F'];
  for (let name of names) {
    await sleep(500);
    allocateFile(name);
  }
  
  currentStep = 1;
  document.getElementById('btn2').disabled = false;
  await sleep(800);
  showMessage('‚úì –î–∞–∞–ª–≥–∞–≤–∞—Ä 1 –¥—É—É—Å—Å–∞–Ω: –ë“Ø—Ö —Ñ–∞–π–ª—ã–≥ –±–∞–π—Ä–ª—É—É–ª—Å–∞–Ω');
}

async function deleteBandD() {
  if (currentStep < 1) {
    showMessage('‚ö† –≠—Ö–ª—ç—ç–¥ –¥–∞–∞–ª–≥–∞–≤–∞—Ä 1-–≥ –≥“Ø–π—Ü—ç—Ç–≥—ç–Ω—ç “Ø“Ø');
    return;
  }
  
  document.getElementById('btn2').disabled = true;
  showMessage('–î–∞–∞–ª–≥–∞–≤–∞—Ä 2: B –±–æ–ª–æ–Ω D —Ñ–∞–π–ª—ã–≥ —É—Å—Ç–≥–∞–∂ –±–∞–π–Ω–∞...');
  
  await sleep(500);
  deleteFile('B');
  await sleep(800);
  deleteFile('D');
  
  currentStep = 2;
  await sleep(800);
  showMessage('‚úì –î–∞–∞–ª–≥–∞–≤–∞—Ä 2 –¥—É—É—Å—Å–∞–Ω: B –±–æ–ª–æ–Ω D —Ñ–∞–π–ª—ã–≥ —É—Å—Ç–≥–∞—Å–∞–Ω');
}

function reset() {
  blocks = Array(TOTAL_BLOCKS).fill(null);
  files.forEach(f => f.start = null);
  currentStep = 0;
  document.getElementById('btn1').disabled = false;
  document.getElementById('btn2').disabled = true;
  showMessage('üîÑ –ë“Ø–≥–¥–∏–π–≥ –¥–∞—Ö–∏–Ω —ç—Ö–ª“Ø“Ø–ª–ª—ç—ç');
  render();
}

function showMessage(msg) {
  const box = document.getElementById('messageBox');
  box.innerHTML = `<div class="message">${msg}</div>`;
}

function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

// Initialize
render();
</script>
</body>
</html>